@using Microsoft.AspNetCore.Identity
@inject UserManager<IdentityUser> UserManager

@{
    var currentHour = DateTime.Now.Hour;
    var userName = User.Identity.IsAuthenticated ? User.Identity.Name : "Misafir";
    var greetingMessage = currentHour < 12 ? "Günaydın" : currentHour < 18 ? "İyi Günler" : "İyi Akşamlar";
    greetingMessage += $", {userName}";
    ViewData["Title"] ??= "Admin Paneli";
}
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"] - Admin Paneli</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
	<link rel="stylesheet" href="~/css/adminlayout.css" />
</head>
<body>
    <nav class="navbar navbar-expand navbar-dark fixed-top px-3">
        <div class="container-fluid">
            <span class="navbar-brand">Admin Paneli</span>
            <span class="toggle-sidebar ms-auto"><i class='bx bx-menu fs-3'></i></span>
            <span class="ms-3">@greetingMessage</span>
            <form asp-controller="Account" asp-action="Logout" method="post" class="ms-3">
                @Html.AntiForgeryToken()
                <button type="submit" class="btn btn-link text-decoration-none text-light">
                    <i class='bx bx-power-off'></i>
                </button>
            </form>
        </div>
    </nav>

    <nav class="sidebar py-3">
        <a href="@Url.Action("Index", "Home", new { area = "Admin" })"><i class='bx bxs-dashboard'></i> Dashboard</a>
        <a href="@Url.Action("Index", "UserManagement", new { area = "Admin" })"><i class='bx bx-user'></i> Kullanıcı Yönetimi</a>
        <a href="@Url.Action("Index", "Role", new { area = "Admin" })"><i class='bx bx-user'></i> Rol Yönetimi</a>
        <a href="@Url.Action("Index", "UserRole", new { area = "Admin" })"><i class='bx bx-user'></i> Kullanıcı Rol Yönetimi</a>
        <a href="#"><i class='bx bx-cog'></i> Ayarlar</a>
        <a href="@Url.Action("Index", "Dashboard", new { area = "Admin" })"><i class='bx bx-file'></i> Raporlar</a>
        <a href="#"><i class='bx bx-help-circle'></i> Destek</a>
    </nav>

    <div class="sidebar-overlay"></div>

    <main class="main-content">
        @RenderBody()
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        $(document).ready(function () {
            $('.toggle-sidebar, .sidebar-overlay').click(function () {
                $('.sidebar').toggleClass('show');
                $('.sidebar-overlay').fadeToggle();
            });

            const currentUrl = window.location.pathname;
            $('.sidebar a').each(function () {
                if ($(this).attr('href') === currentUrl) {
                    $(this).addClass('active');
                }
            });
        });
    </script>
    @RenderSection("Scripts", required: false)
</body>
</html>
